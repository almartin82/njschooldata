% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/percentile_rank.R
\name{gap_trajectory}
\alias{gap_trajectory}
\title{Track achievement gap trends over time}
\usage{
gap_trajectory(
  df,
  metric_col,
  subgroup_a,
  subgroup_b,
  year_col = "end_year",
  entity_cols = "district_id"
)
}
\arguments{
\item{df}{Dataframe with subgroups and metrics over multiple years}

\item{metric_col}{Character. The metric to track.}

\item{subgroup_a}{Character. Reference subgroup.}

\item{subgroup_b}{Character. Comparison subgroup.}

\item{year_col}{Character. Year column. Default "end_year".}

\item{entity_cols}{Character vector. Columns identifying entity to track.}
}
\value{
df with gap values and trend columns:
  \itemize{
    \item \code{{metric}_gap_yoy_change}: Year-over-year change in gap
    \item \code{{metric}_gap_cumulative_change}: Change from baseline year
    \item \code{{metric}_gap_baseline}: Gap value in first year
  }
}
\description{
Combines gap calculation with trend tracking to show how
achievement gaps have changed over time for specific entities. Answers
questions like "How has Newark's Black-White gap changed from 2015 to 2023?"
}
\examples{
\dontrun{
# Track Newark's Black-White grad rate gap over time
grate \%>\%
  filter(district_id == "3570") \%>\%
  gap_trajectory(
    metric_col = "grad_rate",
    subgroup_a = "white",
    subgroup_b = "black"
  )
}

}
