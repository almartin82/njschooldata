% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_course_enrollment.R
\name{calc_ap_access_rate}
\alias{calc_ap_access_rate}
\title{Calculate AP/IB Access Rate}
\usage{
calc_ap_access_rate(df, subgroup = "total population")
}
\arguments{
\item{df}{A data frame from \code{\link{fetch_math_course_enrollment}},
\code{\link{fetch_science_course_enrollment}}, or other course enrollment
functions. Should contain course type and student enrollment columns.}

\item{subgroup}{Subgroup to analyze (default: "total population"). Specify
a subgroup name (e.g., "black", "hispanic", "economically disadvantaged")
to calculate access rates for that demographic group.}
}
\value{
Data frame with:
  \itemize{
    \item All original columns from input data (aggregated to one row per school)
    \item ap_access_rate - Percentage of students with AP course access
    \item has_ap - Logical indicating school offers AP courses
    \item has_ib - Logical indicating school offers IB courses
    \item has_both - Logical indicating school offers both AP and IB
    \item vs_state_avg - Difference from state average (if state data available)
  }
}
\description{
Calculates the percentage of students with access to Advanced Placement (AP)
or International Baccalaureate (IB) courses. Access is defined as offering
at least one AP or IB course at the school.
}
\details{
AP/IB access is calculated at the school level (all students in the school
have access if the school offers any AP/IB courses). The access rate represents
the proportion of students in schools that offer AP/IB courses.
}
\examples{
\dontrun{
# Get science course enrollment (includes AP sciences)
science <- fetch_science_course_enrollment(2024)

# Calculate AP access rate for total population
ap_access <- calc_ap_access_rate(science, subgroup = "total population")

# Calculate AP access rate for economically disadvantaged students
ap_access_ed <- calc_ap_access_rate(science,
                                    subgroup = "economically disadvantaged")

# View schools with highest AP access
ap_access \%>\%
  dplyr::filter(is_school == TRUE) \%>\%
  dplyr::arrange(dplyr::desc(ap_access_rate)) \%>\%
  dplyr::select(school_name, has_ap, has_ib, ap_access_rate)
}
}
