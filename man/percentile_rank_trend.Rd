% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/percentile_rank.R
\name{percentile_rank_trend}
\alias{percentile_rank_trend}
\title{Calculate percentile rank change over time}
\usage{
percentile_rank_trend(
  df,
  percentile_col,
  year_col = "end_year",
  entity_cols = c("district_id")
)
}
\arguments{
\item{df}{Dataframe with a percentile column and year column}

\item{percentile_col}{Character. Name of the percentile column to track.}

\item{year_col}{Character. Name of year column. Default "end_year".}

\item{entity_cols}{Character vector. Columns identifying entities to track
over time (e.g., c("district_id", "subgroup")).}
}
\value{
df with added columns:
  \itemize{
    \item \code{{percentile_col}_yoy_change}: Year-over-year change
    \item \code{{percentile_col}_cumulative_change}: Change from first year
    \item \code{{percentile_col}_baseline}: Value in the first year
  }
}
\description{
Given a dataframe with percentile ranks by year, calculates
year-over-year and cumulative change. This enables the "39th to 78th
percentile" style analysis from MarGrady Research.
}
\examples{
\dontrun{
# Track Newark's percentile rank over time
grate_ranked \%>\%
  filter(district_id == "3570") \%>\%
  percentile_rank_trend(
    percentile_col = "grad_rate_percentile",
    entity_cols = c("district_id", "subgroup")
  )
}

}
