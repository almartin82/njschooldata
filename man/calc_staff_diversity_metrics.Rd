% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_staff.R
\name{calc_staff_diversity_metrics}
\alias{calc_staff_diversity_metrics}
\title{Calculate Staff Diversity Metrics}
\usage{
calc_staff_diversity_metrics(df, metrics = c("racial"))
}
\arguments{
\item{df}{A data frame from \code{\link{fetch_staff_demographics}}.
Should contain staff demographic breakdowns with counts.}

\item{metrics}{Character vector specifying which diversity metrics to calculate.
Options: "racial" (default), "gender", or both c("racial", "gender").}
}
\value{
Data frame with:
  \itemize{
    \item location_id - Combined location identifier
    \item diversity_index - Overall Simpson's Diversity Index (0-1 scale, higher = more diverse)
    \item racial_diversity_score - Racial diversity score (0-1 scale)
    \item gender_diversity_score - Gender diversity score (0-1 scale)
    \item diversity_percentile_rank - Percentile rank vs all schools (0-100)
    \item diversity_quintile - Quintile rank (1-5, 5 = most diverse)
  }
}
\description{
Calculates diversity indices for staff demographics using Simpson's
Diversity Index. Computes racial and gender diversity scores with
percentile rankings.
}
\details{
Simpson's Diversity Index is calculated as:
\deqn{D = 1 - \sum(p_i^2)}

where \eqn{p_i} is the proportion of staff in category \eqn{i}.

Values range from 0 (no diversity - all staff in one category) to
1 (maximum diversity - staff evenly distributed across all categories).
}
\examples{
\dontrun{
# Get staff demographics data
demographics <- fetch_staff_demographics(2024)

# Calculate racial diversity
racial_div <- calc_staff_diversity_metrics(demographics, metrics = "racial")

# Calculate both racial and gender diversity
all_div <- calc_staff_diversity_metrics(demographics,
                                         metrics = c("racial", "gender"))

# View most diverse schools
all_div \%>\%
  dplyr::arrange(dplyr::desc(diversity_index)) \%>\%
  dplyr::select(school_name, diversity_index, diversity_quintile)
}
}
