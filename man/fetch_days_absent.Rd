% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fetch_spr.R
\name{fetch_days_absent}
\alias{fetch_days_absent}
\title{Fetch Days Absent Data}
\usage{
fetch_days_absent(end_year, level = "school")
}
\arguments{
\item{end_year}{A school year (2017-2024). Year is the end of the academic
year - eg 2020-21 school year is end_year '2021'.}

\item{level}{One of "school" or "district". "school" returns school-level
data, "district" returns district and state-level data.}
}
\value{
Data frame with days absent statistics including:
  \itemize{
    \item end_year, county_id, county_name, district_id, district_name
    \item school_id, school_name (for school-level data)
    \item subgroup - Student group (total population, racial/ethnic groups, etc.)
    \item avg_days_absent - Average days absent (may be NA for some subgroups)
    \item median_days_absent - Median days absent (may be NA for some subgroups)
    \item Aggregation flags (is_state, is_county, is_district, is_school, is_charter)
  }
}
\description{
Downloads and extracts days absent statistics from the SPR database.
This includes average and median days absent.
}
\examples{
\dontrun{
# Get school-level days absent
days <- fetch_days_absent(2024)

# Compare average days absent across subgroups
days \%>\%
  filter(school_id == "030") \%>\%
  group_by(subgroup) \%>\%
  summarize(
    avg_days = mean(avg_days_absent, na.rm = TRUE),
    .groups = "drop"
  )
}
}
