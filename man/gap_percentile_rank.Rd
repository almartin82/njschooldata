% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/percentile_rank.R
\name{gap_percentile_rank}
\alias{gap_percentile_rank}
\title{Rank entities by achievement gap within peer group}
\usage{
gap_percentile_rank(
  df,
  gap_col,
  peer_type = "statewide",
  year_col = "end_year",
  smaller_is_better = TRUE
)
}
\arguments{
\item{df}{Output of \code{calculate_subgroup_gap()} or any dataframe with
a gap column}

\item{gap_col}{Character. The column containing gap values. Default "metric_gap".}

\item{peer_type}{Character. Peer group type. See \code{define_peer_group()}.}

\item{year_col}{Character. Year column name. Default "end_year".}

\item{smaller_is_better}{Logical. If TRUE (default), smaller gaps get higher
percentile ranks. Set to FALSE if larger gaps are preferred.}
}
\value{
df with added gap percentile columns
}
\description{
Calculates percentile rank of achievement gaps. By default,
smaller gaps receive higher percentile ranks (better equity = higher rank).
This enables questions like "Which DFG A districts have the smallest
Black-White achievement gaps?"
}
\examples{
\dontrun{
grate \%>\%
  calculate_subgroup_gap("grad_rate", "white", "black") \%>\%
  gap_percentile_rank(gap_col = "grad_rate_gap", peer_type = "dfg")
}

}
