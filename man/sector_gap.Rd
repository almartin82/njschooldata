% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/percentile_rank.R
\name{sector_gap}
\alias{sector_gap}
\title{Calculate performance gap between charter and district sectors}
\usage{
sector_gap(df, metric_col, year_col = "end_year")
}
\arguments{
\item{df}{Dataframe with charter sector and district rows, including
is_charter_sector, is_district, and is_allpublic flags}

\item{metric_col}{Character. Performance metric column.}

\item{year_col}{Character. Year column. Default "end_year".}
}
\value{
Dataframe with one row per city-year containing:
  \itemize{
    \item \code{charter_value}: Charter sector metric value
    \item \code{district_value}: Traditional district metric value
    \item \code{sector_gap}: charter_value - district_value
    \item \code{sector_leader}: "charter", "district", or "tie"
  }
}
\description{
Calculates the difference in performance between the charter
sector aggregate and traditional district for host cities. Positive values
indicate charter sector outperforms district.
}
\examples{
\dontrun{
# Get sector gaps for all host cities
grate_with_aggs \%>\%
  sector_gap(metric_col = "grad_rate")
}

}
