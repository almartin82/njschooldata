% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/percentile_rank.R
\name{ecosystem_trend}
\alias{ecosystem_trend}
\title{Track sector ecosystem dynamics over time}
\usage{
ecosystem_trend(
  df_enrollment,
  df_performance,
  host_district_id,
  metric_col,
  peer_type = "statewide",
  year_col = "end_year"
)
}
\arguments{
\item{df_enrollment}{Enrollment data (output of \code{fetch_enr()}) with
sector aggregates}

\item{df_performance}{Performance data (e.g., graduation rates) with
sector aggregates}

\item{host_district_id}{Character. Host district ID (e.g., "3570").}

\item{metric_col}{Character. Performance metric to track.}

\item{peer_type}{Character. Peer group for percentile. Default "statewide".}

\item{year_col}{Character. Year column. Default "end_year".}
}
\value{
Dataframe with yearly ecosystem metrics:
  \itemize{
    \item \code{charter_enrollment}: Students in charter sector
    \item \code{total_enrollment}: All public students in city
    \item \code{charter_share}: Percent of students in charters
    \item \code{sector_gap}: Charter - district performance difference
    \item \code{allpublic_percentile}: City's overall percentile rank
  }
}
\description{
Tracks charter market share, sector performance gap, and
all-public percentile over time for a host city. Answers questions like
"As Newark's charter share grew, how did overall city performance change?"
}
